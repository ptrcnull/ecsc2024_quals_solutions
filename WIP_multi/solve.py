from z3 import *

s = Solver()

a = Int('a')
b = Int('b')
c = Int('c')
s1 = Int('s1')
s2 = Int('s2')
s3 = Int('s3')
s4 = Int('s4')
s24c = Int('s24c')
# ct = Int('ct')
N = Int('N')
p = Int('p')
q = Int('q')

some_multiple_of_c = Int('some_multiple_of_c')

s.add(a == 16607683159820969821334053668565497023672553723120463309429594505511237879034577633612046554203127383421087262122366559782549452227442655978577041006582592182736922324295338420270626819107511550881657877)
s.add(b == 25551215271781189598874426878862316864812581725043603372252140494846089508926229930474790805776343733438714292797355930074164508091657786022929506398463880301910511131220554730086719022498840162517991137)
s.add(c == 20786191324953792562009866853371215040863303)
s.add(s24c == 17530888003368647156289259217837386783102445)
s.add(N == 1187958312838759124284554573131124126935409913863314039442751811472713832328228838809156981593920545781447477983725054814300215030741029873621268923849336891499156890391241452662673230424582615690695139488563447524637075308093800898523369871415156847585677060017697705930714628064633544771455068846410636235644969832309162176585034000877398786134508512029652562351236336633606232143741296847369935403850409548447590940562502745918919243939917885124873673746920879)

s.add(Or(s1 == 53526471528723273317793958277, s1 == 52301238548999283720018992803))
s.add(Implies(s1 == 53526471528723273317793958277, s3 == 52301238548999283720018992803))
s.add(Implies(s1 == 52301238548999283720018992803, s3 == 53526471528723273317793958277))

i = 9148553976233387085093714869176782034914452161417077604366076139263591406033562985865083933117200826638570585938891502055041313472786449604845660496740744527127946496506035982732334364284992337310832768

# highest_value_of_s4 = 64600213875334817685682271828
highest_value_of_s2 = 42972249412506356614640275876

s.add(s2 > 0)
s.add(s4 > 0)
s.add(s2 < s1)
s.add(s4 < s3)
s.add(s2 < highest_value_of_s2)
# s.add(s4 < highest_value_of_s4)
s.add(N % ((b*s3)+s4) == 0)

# s.add(i == ((a*s1*s4 + b*s3*s2) / 2**192))
# s.add(some_multiple_of_c >= 0)

# s.add(s24c == (s2*s4)%c)
# s.add(N == (a*s1+s2)*(b*s3+s4))


# s.add(N == p * q)

# s.add(((N - s24c) - ((a * b * s1 * s3) + (a * s1 * s4) + (b * s2 * s3))) % c == 0)

# s.add(a == p / s1)
# s.add(s2 == p % s1)

# s.add(b == q / s3)
# s.add(s4 == q % s3)

# s.add(p == ((a*s1)+s2))
# s.add(q == ((b*s3)+s4))

print(s.check())
model = s.model()
print(model)
